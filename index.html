<!DOCTYPE html>
<html>
<head>
    <title>Auto-Populate DocuSign URL</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>Master Services Agrement</h1>
        <form>
            <label for="customerName">Customer Business Name:</label>
            <input type="text" id="customerName" name="customerName">

            <label for="entityType">Entity Type:</label>
            <input type="text" id="entityType" name="entityType">

            <label for="customerUserName">Signer Name:</label>
            <input type="text" id="customerUserName" name="customerUserName">

            <label for="title">Title:</label>
            <input type="text" id="title" name="title">

            <label for="customerEmail">Customer Email:</label>
            <input type="email" id="customerEmail" name="customerEmail">

            <label for="customerAddress">Customer Address:</label>
            <input type="text" id="customerAddress" name="customerAddress">

            <button type="button" onclick="generateUrlAndRedirect()">Submit</button>
        </form>
    </div>

    <script>
        // Function to get the current month name
        function getCurrentMonth() {
            const monthNames = [
                "January", "February", "March", "April", "May", "June",
                "July", "August", "September", "October", "November", "December"
            ];
            const now = new Date();
            return monthNames[now.getMonth()];
        }

        // Function to get the current day with ordinal suffix
        function getCurrentDay() {
            const now = new Date();
            const day = now.getDate();
            if (day > 3 && day < 21) return day + 'th'; // Special case for 11th to 13th
            switch (day % 10) {
                case 1: return day + "st";
                case 2: return day + "nd";
                case 3: return day + "rd";
                default: return day + "th";
            }
        }

        // Function to get the two-digit year
        function getCurrentYear() {
            const now = new Date();
            return now.getFullYear().toString().slice(-2);
        }

        // Function to generate the full URL and redirect
        function generateUrlAndRedirect() {
            // PowerForm URL base
            const powerFormBaseUrl = "https://example.docusign.net/Member/PowerFormSigning.aspx?PowerFormId=xxxx";

            // Get input values
            const customerBusinessName = document.getElementById("customerName").value;
            const entityType = document.getElementById("entityType").value;
            const customerUserName = document.getElementById("customerUserName").value;
            const title = document.getElementById("title").value;
            const customerEmail = document.getElementById("customerEmail").value;
            const customerAddress = document.getElementById("customerAddress").value;

            // Generate the full URL with all required data
            const fullUrl = `${powerFormBaseUrl}&Month=${getCurrentMonth()}&Day=${getCurrentDay()}&YY=${getCurrentYear()}&Customer=${encodeURIComponent(customerBusinessName)}&EntityType=${encodeURIComponent(entityType)}&Customer_UserName=${encodeURIComponent(customerUserName)}&Title=${encodeURIComponent(title)}&Customer_Email=${encodeURIComponent(customerEmail)}&Customer_Address=${encodeURIComponent(customerAddress)}`;

            // Redirect to the generated URL
            window.location.href = fullUrl;
        }
    </script>
</body>
</html>
